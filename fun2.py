from collections import Counter
import numpy as np

c1 = Counter(apple=5, orange=0, banana=4)
c2 = Counter(apple=5, orange=5, banana=5)
c3 = Counter(apple=5, orange=10, banana=6)
opngramMap = {}
opngramMap["c1"] = c1
opngramMap["c2"] = c2
opngramMap["c3"] = c3

sum = Counter()
for feature in opngramMap.values():
    sum += feature
print sum

# way 3: based on variance
allngrams = sum.keys()
allFeatureList = []
for id, opngram in opngramMap.iteritems():
    featureMap = {}
    featureMap["id"] = id
    for feature in allngrams:
        if feature in opngram:
            featureMap[feature] = opngram[feature]
        else:
            featureMap[feature] = 0
    allFeatureList.append(featureMap)

varianceMap = {}
for feature in allngrams:
    frequencyList = []
    for featureMap in allFeatureList:
        frequencyList.append(featureMap[feature])
    var = np.var(frequencyList)
    varianceMap[feature] = var
print varianceMap
li = varianceMap.values()
print li
print len(li), np.mean(li)